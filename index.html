<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OlmoEarth - Urban Analysis Platform</title>
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTUiIGZpbGw9IiMyNTYzZWIiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMTYgNyAyIDcgNyAyLTcgMi0yIDctMi03LTctMiA3LTJaIi8+PC9zdmc+">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .narrative {
            max-inline-size: 44rem;
        }

        .city-card {
            transition: all 0.2s ease;
            border: 1px solid var(--bs-border-color);
            cursor: pointer;
        }

        .city-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border-color: var(--bs-primary);
        }

        .city-card:active {
            transform: translateY(0);
        }

        .city-card.active {
            border-color: var(--bs-primary) !important;
            background-color: rgba(13, 110, 253, 0.05);
            box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
        }

        .card-img-placeholder {
            height: 140px;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-size: 3rem;
        }

        /* Viewer Section - Full Screen Overlay */
        #viewer-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 2000;
            background: #0f172a;
            display: flex;
            flex-direction: column;
        }

        #viewer-header {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(148, 163, 184, 0.2);
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 2001;
        }

        #viewer-section {
            flex: 1;
            position: relative;
            width: 100%;
            overflow: hidden;
        }

        #viewer-frame {
            width: 100%;
            height: 100%;
            border: none;
            background: #0f172a;
            display: block;
        }

        /* Technical Deep Dive Styles */
        .tech-card {
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
        }

        .tech-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
        }

        .tech-icon-bg {
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 8rem;
            color: rgba(255, 255, 255, 0.03);
            transform: rotate(15deg);
            pointer-events: none;
            transition: transform 0.5s ease;
        }

        .tech-card:hover .tech-icon-bg {
            transform: rotate(0deg) scale(1.1);
        }

        .pipeline-step {
            transition: all 0.3s ease;
            margin-bottom: 0;
            z-index: 2;
        }

        .pipeline-step:hover {
            background-color: var(--bs-body-bg) !important;
            border-color: var(--bs-success) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transform: translateX(5px);
        }

        .pipeline-line {
            position: absolute;
            left: 31px;
            top: 45px;
            width: 2px;
            height: 30px;
            background: var(--bs-border-color);
            z-index: 1;
        }

        .feature-icon {
            transition: transform 0.3s ease;
        }

        .feature-item:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .fade-in-up {
            animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom" data-bs-theme="dark">
        <div class="container-fluid"><a class="navbar-brand d-flex align-items-center gap-2" href="#"><i
                    class="bi bi-globe-americas text-primary"></i>OlmoEarth </a><button class="navbar-toggler"
                type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Dashboard</a></li>
                </ul>
                <div class="nav-item dropdown ms-auto" role="group" aria-label="Toggle dark mode"
                    title="Toggle Dark Mode"><button class="dark-theme-toggle btn btn-outline-light dropdown-toggle"
                        type="button" data-bs-toggle="dropdown" aria-expanded="false"
                        aria-label="Toggle theme (light)"><i class="bi bi-circle-half"></i><span
                            class="d-lg-none ms-2">Toggle theme</span></button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><button class="dropdown-item" data-bs-theme-value="light" aria-pressed="false"><i
                                    class="me-2 bi bi-sun-fill"></i>Light</button></li>
                        <li><button class="dropdown-item active" data-bs-theme-value="dark" aria-pressed="true"><i
                                    class="me-2 bi bi-moon-stars-fill"></i>Dark</button></li>
                        <li><button class="dropdown-item" data-bs-theme-value="auto" aria-pressed="false"><i
                                    class="me-2 bi bi-circle-half"></i>Auto</button></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <div class="text-center mb-5">
            <h1 class="display-3 fw-bold mb-3">Urban Analysis Platform</h1>
            <h2 class="display-6 text-muted mb-4">Analyze urban growth,
                vegetation,
                and density changes over time.</h2>
            <div class="mx-auto narrative text-secondary fs-5">
                <p>OlmoEarth leverages satellite imagery and machine learning to track urban evolution. Explore detailed
                    metrics for cities worldwide,
                    comparing data from 2019 to 2024. </p>
            </div>
        </div>
        <div id="cities-grid" class="mb-5">
            <h3 class="h4 mb-4 border-bottom pb-2">Available Cities</h3>
            <div class="row g-4">
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100 city-card" onclick="loadCity('bangalore', this)">
                        <div class="card-img-placeholder"><i class="bi bi-buildings"></i></div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-0">Bangalore</h5><span
                                    class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-10">India</span>
                            </div>
                            <p class="card-text small text-muted">IT Hub of India. Analysis of rapid
                                urbanization and green cover loss.</p>
                            <div class="d-flex align-items-center gap-2 mt-3"><span class="badge bg-primary">Analysis
                                    Ready</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100 city-card" onclick="loadCity('chennai', this)">
                        <div class="card-img-placeholder"><i class="bi bi-water"></i></div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-0">Chennai</h5><span
                                    class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-10">India</span>
                            </div>
                            <p class="card-text small text-muted">Coastal metropolis. Tracking urban density
                                and vegetation changes.</p>
                            <div class="d-flex align-items-center gap-2 mt-3"><span class="badge bg-primary">Analysis
                                    Ready</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100 city-card" onclick="loadCity('ahmedabad', this)">
                        <div class="card-img-placeholder"><i class="bi bi-buildings"></i></div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-0">Ahmedabad</h5><span
                                    class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-10">India</span>
                            </div>
                            <p class="card-text small text-muted">Industrial and heritage city. Analysis
                                of urban metrics.</p>
                            <div class="d-flex align-items-center gap-2 mt-3"><span class="badge bg-primary">Analysis
                                    Ready</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100 city-card" onclick="loadCity('kolkata', this)">
                        <div class="card-img-placeholder"><i class="bi bi-train-front"></i></div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-0">Kolkata</h5><span
                                    class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-10">India</span>
                            </div>
                            <p class="card-text small text-muted">City of Joy. Analyzing urban
                                density and vegetation along the Hooghly.</p>
                            <div class="d-flex align-items-center gap-2 mt-3"><span class="badge bg-primary">Analysis
                                    Ready</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100 city-card" onclick="loadCity('delhi', this)">
                        <div class="card-img-placeholder"><i class="bi bi-geo-alt"></i></div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-0">Delhi</h5><span
                                    class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-10">India</span>
                            </div>
                            <p class="card-text small text-muted">National Capital Territory.
                                Analysis of urban expansion and green cover.</p>
                            <div class="d-flex align-items-center gap-2 mt-3"><span class="badge bg-primary">Analysis
                                    Ready</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100 city-card" onclick="loadCity('bodhgaya', this)">
                        <div class="card-img-placeholder"><i class="bi bi-bank"></i></div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-0">Bodh Gaya</h5><span
                                    class="badge bg-success bg-opacity-10 text-success border border-success border-opacity-10">India</span>
                            </div>
                            <p class="card-text small text-muted">A UNESCO World Heritage
                                Site. Analysis of urban metrics.</p>
                            <div class="d-flex align-items-center gap-2 mt-3"><span class="badge bg-primary">Analysis
                                    Ready</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mb-5 fade-in-up" style="animation-delay: 0.2s;">
            <h3 class="h4 mb-4 border-bottom pb-2">Technical Deep
                Dive</h3>
            <div class="row g-4">
                <div class="col-lg-6">
                    <div class="card h-100 border-0 bg-dark-subtle tech-card overflow-hidden">
                        <div class="card-body position-relative z-1">
                            <div class="tech-icon-bg"><i class="bi bi-cpu"></i></div>
                            <h5 class="card-title d-flex align-items-center gap-2">
                                <i class="bi bi-cpu text-primary"></i>OlmoEarth
                                Foundation Model
                            </h5>
                            <p class="card-text mt-3 text-secondary">
                                At the core of this platform lies
                                the <strong>OlmoEarth Foundation
                                    Model</strong>,
                                a state-of-the-art vision
                                transformer trained on petabytes of
                                satellite imagery. Unlike
                                traditional remote sensing which
                                relies on simple band math (like
                                NDVI),
                                OlmoEarth "sees" the world
                                semantically. </p>
                            <div class="mt-4">
                                <div class="feature-item p-2 rounded mb-2 d-flex align-items-center gap-3">
                                    <div class="feature-icon bg-primary bg-opacity-10 text-primary rounded p-2">
                                        <i class="bi bi-layers-fill"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold small">
                                            Vision Transformer (ViT)
                                        </div>
                                        <div class="small text-muted">
                                            Patch-based encoding
                                            architecture</div>
                                    </div>
                                </div>
                                <div class="feature-item p-2 rounded mb-2 d-flex align-items-center gap-3">
                                    <div class="feature-icon bg-primary bg-opacity-10 text-primary rounded p-2">
                                        <i class="bi bi-grid-3x3-gap-fill"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold small">
                                            768-D Embeddings</div>
                                        <div class="small text-muted">
                                            High-dimensional
                                            semantic feature vectors
                                        </div>
                                    </div>
                                </div>
                                <div class="feature-item p-2 rounded d-flex align-items-center gap-3">
                                    <div class="feature-icon bg-primary bg-opacity-10 text-primary rounded p-2">
                                        <i class="bi bi-intersect"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold small">
                                            Multi-Modal Fusion</div>
                                        <div class="small text-muted">
                                            Sentinel-2
                                            (Optical)+Sentinel-1
                                            (Radar)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card h-100 border-0 bg-dark-subtle tech-card overflow-hidden">
                        <div class="card-body position-relative z-1">
                            <div class="tech-icon-bg"><i class="bi bi-hdd-network"></i>
                            </div>
                            <h5 class="card-title d-flex align-items-center gap-2">
                                <i class="bi bi-hdd-network text-success"></i>Data
                                Pipeline
                            </h5>
                            <p class="card-text mt-3 text-secondary">
                                Our end-to-end pipeline transforms
                                raw petabytes of data into
                                actionable urban insights. </p>
                            <div class="pipeline-container mt-4 d-flex flex-column gap-3">
                                <div
                                    class="pipeline-step p-3 rounded bg-body-tertiary border border-dark-subtle position-relative">
                                    <div class="d-flex gap-3 align-items-center">
                                        <div class="step-indicator bg-success text-white rounded-circle d-flex align-items-center justify-content-center"
                                            style="width: 32px; height: 32px;">
                                            1</div>
                                        <div>
                                            <div class="fw-bold">
                                                Ingestion</div>
                                            <div class="small text-muted">
                                                Download Sentinel-2
                                                (12 bands) &
                                                Sentinel-1 (2 bands)
                                                imagery.</div>
                                        </div>
                                    </div>
                                    <div class="pipeline-line">
                                    </div>
                                </div>
                                <div
                                    class="pipeline-step p-3 rounded bg-body-tertiary border border-dark-subtle position-relative">
                                    <div class="d-flex gap-3 align-items-center">
                                        <div class="step-indicator bg-success text-white rounded-circle d-flex align-items-center justify-content-center"
                                            style="width: 32px; height: 32px;">
                                            2</div>
                                        <div>
                                            <div class="fw-bold">
                                                Inference</div>
                                            <div class="small text-muted">
                                                GPU-accelerated
                                                OlmoEarth model
                                                processes raw pixels
                                                into embeddings.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="pipeline-line">
                                    </div>
                                </div>
                                <div class="pipeline-step p-3 rounded bg-body-tertiary border border-dark-subtle">
                                    <div class="d-flex gap-3 align-items-center">
                                        <div class="step-indicator bg-success text-white rounded-circle d-flex align-items-center justify-content-center"
                                            style="width: 32px; height: 32px;">
                                            3</div>
                                        <div>
                                            <div class="fw-bold">
                                                Semantic Analysis
                                            </div>
                                            <div class="small text-muted">
                                                Compute metrics:
                                                Urban Density,
                                                Vegetation Index,
                                                Diversity.</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="viewer-container" class="d-none">
            <div id="viewer-header">
                <h5 class="m-0 text-light" id="viewer-title">City Analysis</h5>
                <button class="btn btn-sm btn-outline-light d-flex align-items-center gap-2" onclick="closeViewer()"><i
                        class="bi bi-x-lg"></i>Close
                </button>
            </div>
            <div id="viewer-section">
                <div id="loading-overlay" class="d-none">
                    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                    </div>
                    <div class="mt-3 text-light">Loading
                        Visualization...</div>
                </div><iframe id="viewer-frame" src=""></iframe>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script> // Theme Toggling Logic

            (() => {
                'use strict'

                const getStoredTheme = () => localStorage.getItem('theme')
                const setStoredTheme = theme => localStorage.setItem('theme', theme)
                const getPreferredTheme = () => {
                    const storedTheme = getStoredTheme()
                    if (storedTheme) {
                        return storedTheme
                    }

                    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
                }

                const setTheme = theme => {
                    if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                        document.documentElement.setAttribute('data-bs-theme', 'dark')
                    }

                    else {
                        document.documentElement.setAttribute('data-bs-theme', theme)
                    }
                }

                setTheme(getPreferredTheme())

                const showActiveTheme = (theme, focus = false) => {
                    const themeSwitcher = document.querySelector('.dark-theme-toggle')
                    if (!themeSwitcher) return
                    const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
                    document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
                        element.classList.remove('active')
                        element.setAttribute('aria-pressed', 'false')
                    })
                    btnToActive.classList.add('active')
                    btnToActive.setAttribute('aria-pressed', 'true')
                    // Update icon
                    const iconClass = theme === 'dark' ? 'bi-moon-stars-fill' : (theme === 'auto' ? 'bi-circle-half' : 'bi-sun-fill');
                    themeSwitcher.innerHTML = `<i class="${iconClass}"></i><span class="d-lg-none ms-2">Toggle theme</span>`;
                }

                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                    const storedTheme = getStoredTheme()
                    if (storedTheme !== 'light' && storedTheme !== 'dark') {
                        setTheme(getPreferredTheme())
                    }
                })

                window.addEventListener('DOMContentLoaded', () => {
                    showActiveTheme(getPreferredTheme())

                    document.querySelectorAll('[data-bs-theme-value]').forEach(toggle => {
                        toggle.addEventListener('click', () => {
                            const theme = toggle.getAttribute('data-bs-theme-value')
                            setStoredTheme(theme)
                            setTheme(theme)
                            showActiveTheme(theme, true)
                        })
                    })
                })
            })() // Dashboard Logic

            const cities = {
                bangalore: { url: 'bangalore.html', name: 'Bangalore Analysis' },
                chennai: { url: 'chennai.html', name: 'Chennai Analysis' },
                ahmedabad: { url: 'ahmedabad.html', name: 'Ahmedabad Analysis' },
                kolkata: { url: 'kolkata.html', name: 'Kolkata Analysis' },
                delhi: { url: 'delhi.html', name: 'Delhi Analysis' },
                bodhgaya: { url: 'bodhgaya.html', name: 'Bodh Gaya Analysis' }
            };

            function loadCity(cityKey, cardElement) {
                if (!cities[cityKey]) return;

                // Update UI active state
                document.querySelectorAll('.city-card').forEach(c => c.classList.remove('active'));
                cardElement.classList.add('active');

                const viewerContainer = document.getElementById('viewer-container');
                const frame = document.getElementById('viewer-frame');
                const loading = document.getElementById('loading-overlay');
                const title = document.getElementById('viewer-title');

                // Show viewer
                viewerContainer.classList.remove('d-none');
                loading.classList.remove('d-none');

                // Update Title
                title.innerHTML = `<i class="bi bi-geo-alt-fill text-primary me-2"></i>${cities[cityKey].name}`;

                // Load content
                frame.src = cities[cityKey].url;

                // Prevent body scroll
                document.body.style.overflow = 'hidden';

                frame.onload = () => {
                    loading.classList.add('d-none');
                };
            }

            function closeViewer() {
                const viewerContainer = document.getElementById('viewer-container');
                const frame = document.getElementById('viewer-frame');

                viewerContainer.classList.add('d-none');
                frame.src = ""; // Clear src to stop resource usage

                // Re-enable body scroll
                document.body.style.overflow = 'auto';

                // Remove active classes
                document.querySelectorAll('.city-card').forEach(c => c.classList.remove('active'));
            }

        </script>
</body>

</html>